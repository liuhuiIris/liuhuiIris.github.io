<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="liuhuiIris">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="liuhuiIris">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="liuhuiIris">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>liuhuiIris</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">liuhuiIris</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/hexo-gitment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/hexo-gitment/" itemprop="url">hexo + gitment</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-04T18:18:53+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>é¦–å…ˆä¸‡åˆ†æ„Ÿè°¢è¸©å‘å°åˆ†é˜Ÿä»¬ï¼ï¼ï¼</p>
<p>é™†é™†ç»­ç»­ã€å¿å¿å¿‘å¿‘åœ¨å·¥ä½ä¸Šæäº†ä¸€å¤©gitmentï¼Œç»ˆäºæˆåŠŸæå®šï¼Œå®Œç»“æ’’èŠ±ğŸŒº ğŸŒº ğŸŒº</p>
<p>(å¸Œæœ›é¢†å¯¼ä»¬ä¸ä¼šçœ‹åˆ°å“ˆï¼Œæˆ‘ä¹Ÿæ˜¯æœ‰è®¤çœŸå®Œæˆæœ¬èŒå·¥ä½œçš„ï¼Œè®¤çœŸè„¸<em>_</em>)</p>
<p>è¿™é‡Œåªæƒ³æ”¾å¤§ä½¬ä»¬çš„é“¾æ¥äº†</p>
<h1 id="1-gitment-ç™»å½•å¤±è´¥é—®é¢˜"><a href="#1-gitment-ç™»å½•å¤±è´¥é—®é¢˜" class="headerlink" title="1. gitment ç™»å½•å¤±è´¥é—®é¢˜"></a>1. gitment ç™»å½•å¤±è´¥é—®é¢˜</h1><p>é¦–å…ˆå¤§å®¶éƒ½å‘ç°gitment ç™»å½•å¤±è´¥çš„é—®é¢˜ï¼Œç”±æ­¤å‚è€ƒä»¥ä¸‹æ–‡ç« ,å¹¶æ‰‹åŠ¨è·‘äº†åŸä½œè€…çš„Serverï¼Œå¹¶æ›¿æ¢ä¸ºè‡ªå·±æœåŠ¡å™¨åœ°å€</p>
<p><a href="https://www.jianshu.com/p/f2f4c802914b" target="_blank" rel="noopener">gitment ç™»å½•å¤±è´¥é—®é¢˜</a></p>
<p>è™½ç„¶æ¥¼ä¸»æ³¨æ„åˆ°äº†æ–‡ç« ä¸­nginxç­‰ä¸€ç³»åˆ—çŒ›å¦‚è™çš„æ“ä½œï¼Œä½†è¿˜æ˜¯å·æ‡’åªç”¨äº†IPï¼Œç»“æœå¯æƒ³è€ŒçŸ¥ï¼Œäººå®¶åªè®¤httpsâ€¦</p>
<p>ä»¥å‰æ¥¼ä¸»æè¿‡åŸŸåè§£æä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é—®é¢˜ï¼Œåˆ°æœŸäº†ï¼Œäºæ˜¯æ‰“ç®—å·æ‡’æ‰¾ä¸ªç°æˆçš„</p>
<h1 id="2-gitmentè¯„è®ºæ¨¡å—æ¥å…¥hexo"><a href="#2-gitmentè¯„è®ºæ¨¡å—æ¥å…¥hexo" class="headerlink" title="2. gitmentè¯„è®ºæ¨¡å—æ¥å…¥hexo"></a>2. gitmentè¯„è®ºæ¨¡å—æ¥å…¥hexo</h1><p>éå¸¸æ„Ÿè°¢ä»¥ä¸‹æ–‡ç« ä½œè€…ï¼Œè®²è§£å¾ˆæ˜¯è¯¦ç»†ï¼Œè¿˜ç»™äº†è§£å†³è·¨åŸŸé—®é¢˜çš„ä¾‹å­ï¼Œå°±æ˜¯è¯·å¤§å®¶ç•™å¿ƒä¸‹nextç‰ˆæœ¬å³å¯ï¼Œæ¥¼ä¸»ä»Šå¤©åˆšå‡çº§nextï¼Œç‰ˆæœ¬æœ‰ç‚¹å¯¹ä¸ä¸Š</p>
<p><a href="https://www.wenjunjiang.win/2017/07/02/gitment%E8%AF%84%E8%AE%BA%E6%A8%A1%E5%9D%97%E6%8E%A5%E5%85%A5hexo/" target="_blank" rel="noopener">gitmentè¯„è®ºæ¨¡å—æ¥å…¥hexo</a></p>
<p>è¿˜æœ‰å…¶ä¸­å‚æ•°ä¸æ˜¯å¾ˆå¯¹åº”,æ³¨æ„å¯¹åº”å…³ç³»å°±å¥½ï¼Œæ²¡æœ‰å¯¹é”™ä¹‹åˆ†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">githubID:ä¸ºgithubçš„ç”¨æˆ·å</span><br><span class="line">repo:ä¸ºåšå®¢çš„ä»“åº“</span><br><span class="line">ClientID:ä¸ºä¸Šä¸€æ­¥è·å–çš„client ID</span><br><span class="line">ClientSecret:ä¸ºåšå®¢çš„ä»“åº“client secret</span><br><span class="line">lazy:æ˜¯å¦é»˜è®¤æŠŠè¯„è®ºæ¡†æ”¶èµ·æ¥</span><br><span class="line"></span><br><span class="line">github_user: </span><br><span class="line">github_repo: </span><br><span class="line">client_id: </span><br><span class="line">client_secret:</span><br></pre></td></tr></table></figure>
<p>å°±åœ¨æ¥¼ä¸»æ»¡å¿ƒæ¬¢å–œä»¥ä¸ºå¤§åŠŸå‘Šæˆçš„æ—¶å€™ï¼Œå‘ç°äº†Errorï¼švalidation failedçš„é—®é¢˜ å‡¸(è‰¹çš¿è‰¹ )</p>
<h1 id="3-æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘"><a href="#3-æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘" class="headerlink" title="3. æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘"></a>3. æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘</h1><p>æ„Ÿè°¢å¦ä¸€ä½è¸©å‘å°åˆ†é˜Ÿæˆå‘˜ï¼Œå‡ ä¹è¸©éäº† label é•¿åº¦æ‰€æœ‰çš„å‘ï¼Œæ‰‹åŠ¨æ¯”å¿ƒå¿ƒâ¤ï¸</p>
<p><a href="http://xichen.pub/2018/01/31/2018-01-31-gitment/" target="_blank" rel="noopener">æ·»åŠ Gitmentè¯„è®ºç³»ç»Ÿè¸©è¿‡çš„å‘</a></p>
<h1 id="4-ä½œæ­»çš„å¤šä¸ªgithubè´¦æˆ·é—®é¢˜"><a href="#4-ä½œæ­»çš„å¤šä¸ªgithubè´¦æˆ·é—®é¢˜" class="headerlink" title="4. ä½œæ­»çš„å¤šä¸ªgithubè´¦æˆ·é—®é¢˜"></a>4. ä½œæ­»çš„å¤šä¸ªgithubè´¦æˆ·é—®é¢˜</h1><p>æ¥¼ä¸»å½“æ—¶å› ä¸ºå…¥èŒï¼Œå¾ˆä½œæ­»åœ°ç”³è¯·äº†ä¸ªæ–°çš„githubè´¦æˆ·ï¼Œç»“æœæŠŠæµè§ˆå™¨è¿™å®ææ™•äº†ï¼Œæ€ä¹ˆéƒ½ç™»å½•ä¸ä¸Šï¼ŒNew incognito Window æˆ–è€… ç™»å‡ºç”¨åŒä¸€ä¸ªè´¦æˆ·ç™»å½•å°±å¯ä»¥äº†</p>
<p>ç„¶åå®Œç¾æå®šï¼Œå¿ƒç´¯åˆ°ä¸æƒ³æ”¾å›¾-_-!!! å°†å°±çœ‹å§</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/Clamavç—…æ¯’é˜²æŠ¤è½¯ä»¶å®‰è£…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/Clamavç—…æ¯’é˜²æŠ¤è½¯ä»¶å®‰è£…/" itemprop="url">Clamavç—…æ¯’é˜²æŠ¤è½¯ä»¶å®‰è£…</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-12-04T10:05:17+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒç½‘ç«™ï¼š<a href="http://www.clamav.net/documents/installing-clamav#rhel" target="_blank" rel="noopener">http://www.clamav.net/documents/installing-clamav#rhel</a></p>
<h1 id="1-On-CentOS"><a href="#1-On-CentOS" class="headerlink" title="1. On CentOS:"></a>1. On CentOS:</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> yum install -y epel-release</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> yum install -y clamav</span></span><br></pre></td></tr></table></figure>
<p>On Community Enterprise Operating System (CentOS) the clamav package requires the Extra Packages for Enterprise Linux (EPEL) repository. On RedHat Enterprise Linux (RHEL) the EPEL release package has to be installed either manually or through RHN.</p>
<h1 id="2-Run-command-to-test"><a href="#2-Run-command-to-test" class="headerlink" title="2. Run command to test"></a>2. Run command to test</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> clamscan /tmp</span></span><br></pre></td></tr></table></figure>
<h1 id="3-Questions"><a href="#3-Questions" class="headerlink" title="3. Questions"></a>3. Questions</h1><p>If there are some errors like this:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"LibClamAV Error: cli_loaddbdir(): No supported database files found in /var/lib/clamav</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ERROR: Can't open file or directory"</span></span><br></pre></td></tr></table></figure></p>
<p>You need to install some package to /var/lib/clamav</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /var/lib/clamav</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> wget db.local.clamav.net/main.cvd</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> wget db.local.clamav.net/daily.cvd</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> wget db.local.clamav.net/bytecode.cvd</span></span><br></pre></td></tr></table></figure>
<p>And then run the command again to test<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> clamscan /tmp</span></span><br></pre></td></tr></table></figure></p>
<h1 id="4-Done"><a href="#4-Done" class="headerlink" title="4. Done"></a>4. Done</h1><p>You can see the message, then done!<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@znywhost clamav]# clamscan /tmp</span><br><span class="line"></span><br><span class="line">/tmp/cloudwiz-user-stdout---supervisor-ks4Nv4.log: OK</span><br><span class="line">/tmp/mysql-stdout---supervisor-9nkIv0.log: OK</span><br><span class="line">/tmp/mysql-stderr---supervisor-DPkog8.log: OK</span><br><span class="line">/tmp/opentsdb-stdout---supervisor-Pe5q7f.log.1: OK</span><br><span class="line">/tmp/opentsdb-stdout---supervisor-Pe5q7f.log: OK</span><br><span class="line">/tmp/umanager-stderr---supervisor-mgzixe.log: OK</span><br><span class="line">/tmp/permission-stdout---supervisor-Y2Bhvy.log: OK</span><br><span class="line">/tmp/webfront-stderr---supervisor-IN1WLq.log: OK</span><br><span class="line">/tmp/kafka-stdout---supervisor-AdqhYG.log: OK</span><br><span class="line">/tmp/umanager-stdout---supervisor-cxCgc_.log: OK</span><br><span class="line">/tmp/zookeeper-stdout---supervisor-bZQngQ.log: OK</span><br><span class="line"></span><br><span class="line">----------- SCAN SUMMARY -----------</span><br><span class="line">Known viruses: 6727830</span><br><span class="line">Engine version: 0.100.2</span><br><span class="line">Scanned directories: 1</span><br><span class="line">Scanned files: 11</span><br><span class="line">Infected files: 0</span><br><span class="line">Data scanned: 48.80 MB</span><br><span class="line">Data read: 166.54 MB (ratio 0.29:1)</span><br><span class="line">Time: 34.632 sec (0 m 34 s)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/30/rsyslogæ”¶é›†æ—¥å¿—/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/30/rsyslogæ”¶é›†æ—¥å¿—/" itemprop="url">rsyslogæ”¶é›†æ—¥å¿—</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-30T14:33:53+08:00">
                2018-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ä»¥æ—¥å¿—æœåŠ¡å™¨ä¸º10.44.85.15ä¸ºä¾‹ï¼Œæ—¥å¿—æºæœºå™¨ä¸º10.44.85.16</p>
</blockquote>
<h1 id="1-åœ¨10-44-85-16ä¸Šä¿®æ”¹-etc-rsyslog-conf"><a href="#1-åœ¨10-44-85-16ä¸Šä¿®æ”¹-etc-rsyslog-conf" class="headerlink" title="1. åœ¨10.44.85.16ä¸Šä¿®æ”¹/etc/rsyslog.conf"></a>1. åœ¨10.44.85.16ä¸Šä¿®æ”¹/etc/rsyslog.conf</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ModLoad</span> imuxsock <span class="comment"># provides support for local system logging (e.g. via logger command)</span></span><br><span class="line"><span class="comment"># $ModLoad imjournal # provides access to the systemd journal</span></span><br><span class="line"></span><br><span class="line"> File to store the position <span class="keyword">in</span> the journal</span><br><span class="line"><span class="variable">$IMJournalStateFile</span> imjournal.state</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#### RULES ####</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log all kernel messages to the console.</span></span><br><span class="line"><span class="comment"># Logging much else clutters up the screen.</span></span><br><span class="line"><span class="comment">#kern.*                                                 /dev/console</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log anything (except mail) of level info or higher.</span></span><br><span class="line"><span class="comment"># Don't log private authentication messages!</span></span><br><span class="line">*.info;mail.none;authpriv.none;cron.none                /var/<span class="built_in">log</span>/messages</span><br><span class="line"></span><br><span class="line"><span class="comment"># The authpriv file has restricted access.</span></span><br><span class="line">authpriv.*                                              /var/<span class="built_in">log</span>/secure</span><br><span class="line"></span><br><span class="line"><span class="comment"># Log all the mail messages in one place.</span></span><br><span class="line">mail.*                                                  -/var/<span class="built_in">log</span>/maillog</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Log cron stuff</span></span><br><span class="line">cron.*                                                  /var/<span class="built_in">log</span>/cron</span><br><span class="line"></span><br><span class="line"><span class="comment"># Everybody gets emergency messages</span></span><br><span class="line">*.emerg                                                 :omusrmsg:*</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save news errors of level crit and higher in a special file.</span></span><br><span class="line">uucp,news.crit                                          /var/<span class="built_in">log</span>/spooler</span><br><span class="line"></span><br><span class="line"><span class="comment"># Save boot messages also to boot.log</span></span><br><span class="line">local7.*                                                /var/<span class="built_in">log</span>/boot.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†è‡ªå®šä¹‰æœåŠ¡æ—¥å¿—å‘é€è‡³æ—¥å¿—æœåŠ¡å™¨</span></span><br><span class="line"><span class="variable">$ModLoad</span> imfile</span><br><span class="line"><span class="variable">$InputFilePollInterval</span> 10</span><br><span class="line"></span><br><span class="line"><span class="variable">$InputFileName</span>         /var/<span class="built_in">log</span>/webfront/webfront.log      <span class="comment">#è¦ç›‘æ§çš„æ—¥å¿—æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="variable">$InputFileTag</span>          webfront-info:                      <span class="comment"># å®šä¹‰æ–‡ä»¶æ ‡ç­¾ ï¼Œæ³¨æ„æœ€åæ˜¯å†’å·ï¼š</span></span><br><span class="line"><span class="variable">$InputFileStateFile</span>    state-webfront-info                 <span class="comment">#å®šä¹‰çŠ¶æ€æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$InputRunFileMonitor</span>                                       <span class="comment">#æ¿€æ´»è¯»å–ï¼Œå¯ä»¥è®¾ç½®å¤šç»„æ—¥å¿—è¯»å–ï¼Œæ¯ç»„ç»“æŸæ—¶è®¾ç½®æœ¬å‚æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ### begin forwarding rule ###</span></span><br><span class="line"><span class="comment"># The statement between the begin ... end define a SINGLE forwarding</span></span><br><span class="line"><span class="comment"># rule. They belong together, do NOT split them. If you create multiple</span></span><br><span class="line"><span class="comment"># forwarding rules, duplicate the whole block!</span></span><br><span class="line"><span class="comment"># Remote Logging (we use TCP for reliable delivery)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># An on-disk queue is created for this action. If the remote host is</span></span><br><span class="line"><span class="comment"># down, messages are spooled to disk and sent when it is up again.</span></span><br><span class="line"><span class="comment">#$ActionQueueFileName fwdRule1 # unique name prefix for spool files</span></span><br><span class="line"><span class="comment">#$ActionQueueMaxDiskSpace 1g   # 1gb space limit (use as much as possible)</span></span><br><span class="line"><span class="comment">#$ActionQueueSaveOnShutdown on # save messages to disk on shutdown</span></span><br><span class="line"><span class="comment">#$ActionQueueType LinkedList   # run asynchronously</span></span><br><span class="line"><span class="comment">#$ActionResumeRetryCount -1    # infinite retries if host is down</span></span><br><span class="line"><span class="comment"># remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional</span></span><br><span class="line"><span class="comment">#*.* @@remote-host:514</span></span><br><span class="line">*.* @@10.44.85.15:514</span><br><span class="line"><span class="comment"># ### end of the forwarding rule ###</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸€èˆ¬é»˜è®¤é…ç½®å³ä¸ºå‘é€ç³»ç»Ÿæ—¥å¿—ï¼Œå¯ä»¥ä¸åšä¿®æ”¹ï¼Œæ³¨æ„æœ€å<br><em>.</em> @@remote-host:514 ä¿®æ”¹ä¸ºç›®æ ‡æ—¥å¿—æœåŠ¡å™¨ip</p>
</blockquote>
<h1 id="2-é‡å¯rsyslog"><a href="#2-é‡å¯rsyslog" class="headerlink" title="2. é‡å¯rsyslog"></a>2. é‡å¯rsyslog</h1><p>æ–¹æ³•1ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/rsyslog restart <span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶åä¸€å®šè¦é‡å¯rsyslogæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">/etc/init.d/rsyslog status  <span class="comment">#å¯æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•2ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service rsyslog restart <span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶åä¸€å®šè¦é‡å¯rsyslogæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">service rsyslog status  <span class="comment">#æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br></pre></td></tr></table></figure></p>
<h1 id="3-åœ¨10-44-85-15ä¸Šä¿®æ”¹-etc-rsyslog-conf"><a href="#3-åœ¨10-44-85-15ä¸Šä¿®æ”¹-etc-rsyslog-conf" class="headerlink" title="3. åœ¨10.44.85.15ä¸Šä¿®æ”¹/etc/rsyslog.conf"></a>3. åœ¨10.44.85.15ä¸Šä¿®æ”¹/etc/rsyslog.conf</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ModLoad imuxsock</span><br><span class="line">$ModLoad imjournal</span><br><span class="line">$ModLoad immark</span><br><span class="line">$ModLoad imudp</span><br><span class="line">$UDPServerRun 514</span><br><span class="line">$ModLoad imtcp</span><br><span class="line">$InputTCPServerRun 514</span><br><span class="line">$WorkDirectory /var/lib/rsyslog</span><br><span class="line">$AllowedSender tcp, 10.44.85.0/24</span><br><span class="line">$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat</span><br><span class="line">$template Remote,&quot;/var/log/%fromhost-ip%/%fromhost-ip%_%$YEAR%-%$MONTH%-%$DAY%.log&quot;</span><br><span class="line">:fromhost-ip, !isequal, &quot;127.0.0.1&quot; ?Remote</span><br><span class="line">$IncludeConfig /etc/rsyslog.d/*.conf</span><br><span class="line">$OmitLocalLogging on</span><br><span class="line">$IMJournalStateFile imjournal.state</span><br><span class="line"></span><br><span class="line">*.info;mail.none;authpriv.none;cron.none	/var/log/rsyslog</span><br><span class="line">authpriv.*					/var/log/secure</span><br><span class="line">mail.*						-/var/log/maillog</span><br><span class="line">cron.*						/var/log/corn</span><br><span class="line">*.emerg						:omusrmsg:*</span><br><span class="line">uucp,news.crit					/var/log/spooler</span><br><span class="line">local7.*					/var/log/boot.log</span><br></pre></td></tr></table></figure>
<h1 id="4-é‡å¯rsyslog"><a href="#4-é‡å¯rsyslog" class="headerlink" title="4. é‡å¯rsyslog"></a>4. é‡å¯rsyslog</h1><p>æ–¹æ³•1ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/rsyslog restart <span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶åä¸€å®šè¦é‡å¯rsyslogæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">/etc/init.d/rsyslog status  <span class="comment">#å¯æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•2ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service rsyslog restart <span class="comment">#ä¿®æ”¹é…ç½®æ–‡ä»¶åä¸€å®šè¦é‡å¯rsyslogæœåŠ¡</span></span><br><span class="line"></span><br><span class="line">service rsyslog status  <span class="comment">#æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br></pre></td></tr></table></figure></p>
<h1 id="5-æ£€éªŒæ—¥å¿—æ”¶é›†"><a href="#5-æ£€éªŒæ—¥å¿—æ”¶é›†" class="headerlink" title="5. æ£€éªŒæ—¥å¿—æ”¶é›†"></a>5. æ£€éªŒæ—¥å¿—æ”¶é›†</h1><p>åœ¨æ—¥å¿—æœåŠ¡å™¨10.44.85.15ä¸ŠæŸ¥çœ‹é€šè¿‡rsyslogæ”¶é›†çš„10.44.85.16çš„æ—¥å¿—</p>
<p>æ—¥å¿—è·¯å¾„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/log/10.44.85.16/</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/30/mysqlæ•°æ®åº“å¯†ç å®‰å…¨ç­–ç•¥/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/30/mysqlæ•°æ®åº“å¯†ç å®‰å…¨ç­–ç•¥/" itemprop="url">mysqlæ•°æ®åº“å¯†ç å®‰å…¨ç­–ç•¥</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-30T12:00:17+08:00">
                2018-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-å®‰å…¨å®¡è®¡è¦æ±‚"><a href="#1-å®‰å…¨å®¡è®¡è¦æ±‚" class="headerlink" title="1.å®‰å…¨å®¡è®¡è¦æ±‚"></a>1.å®‰å…¨å®¡è®¡è¦æ±‚</h1><p>ç”±äºå®‰å…¨å®¡è®¡è¦æ±‚ï¼Œå»ºè®®è®¾ç½®æ•°æ®åº“å¯†ç å¤æ‚ç­–ç•¥ï¼Œå¯ç”¨å¯†ç å¤æ‚åº¦éªŒè¯å‡½æ•°ï¼Œè‡³å°‘æ»¡è¶³é”å®šæ—¶é—´å¤§äº3åˆ†é’Ÿï¼Œæœ€é•¿ä½¿ç”¨å¤©æ•°å°äº180å¤©ï¼Œå¯é‡ç”¨æ¬¡æ•°å°äº5æ¬¡ï¼‰ï¼›æ›´æ”¹å¼±å£ä»¤ç”¨æˆ·çš„å¯†ç ï¼Œé•¿åº¦è‡³å°‘å…«ä½ï¼Œç”±å­—æ¯ã€æ•°å­—æˆ–ç‰¹æ®Šå­—ç¬¦æ··åˆç»„æˆï¼Œç¦æ­¢ç”¨æˆ·åå’Œå£ä»¤ç›¸åŒ</p>
<h1 id="2-mysql5-6-å‚è€ƒæ–‡æ¡£"><a href="#2-mysql5-6-å‚è€ƒæ–‡æ¡£" class="headerlink" title="2.mysql5.6 å‚è€ƒæ–‡æ¡£"></a>2.mysql5.6 å‚è€ƒæ–‡æ¡£</h1><p>è¿æ¥é™åˆ¶:</p>
<p><a href="https://dev.mysql.com/doc/refman/5.6/en/connection-control.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.6/en/connection-control.html</a></p>
<p>å¯†ç å¤æ‚åº¦è®¾ç½®ï¼š</p>
<p><a href="https://dev.mysql.com/doc/refman/5.6/en/validate-password.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.6/en/validate-password.html</a> </p>
<p>my.cnfæ–‡ä»¶è¯´æ˜ï¼š</p>
<p><a href="https://dev.mysql.com/doc/refman/5.6/en/option-files.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/5.6/en/option-files.html</a></p>
<p>å¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹éƒ¨åˆ†å‚æ•°å†…å®¹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep mysql</span><br><span class="line"></span><br><span class="line">liuhui           15695   1.2  0.0  2443044    820 s000  S+   11:47ä¸Šåˆ   0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn mysql</span><br><span class="line">_mysql           96213   0.0  0.0  2831668   1364   ??  Ss   ä¸‰02ä¸‹åˆ   0:10.16 /usr/<span class="built_in">local</span>/mysql/bin/mysqld --user=_mysql --basedir=/usr/<span class="built_in">local</span>/mysql --datadir=/usr/<span class="built_in">local</span>/mysql/data --plugin-dir=/usr/<span class="built_in">local</span>/mysql/lib/plugin --<span class="built_in">log</span>-error=/usr/<span class="built_in">local</span>/mysql/data/mysqld.local.err --pid-file=/usr/<span class="built_in">local</span>/mysql/data/mysqld.local.pid</span><br></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>æ³¨æ„å¯èƒ½æœ‰äº›é…ç½®åœ¨ç”¨æˆ·æœºå™¨ä¸Šä¸ç”Ÿæ•ˆï¼Œå¯¼è‡´mysqlæ— æ³•æ­£å¸¸å¯åŠ¨</p>
<p>æ­¤æ—¶æ³¨é‡Šæ‰ç›¸å…³æŠ¥é”™å‚æ•°ï¼Œé‡å¯mysql</p>
<p>æ”¹ä¸ºé€šè¿‡å®˜ç½‘ä¸­å‘½ä»¤å½¢å¼è¿›è¡Œè®¾ç½®<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[liuhui@cloudwiz] $ vi /etc/my.cnf</span><br><span class="line"></span><br><span class="line">[base]</span><br><span class="line">basedir = /usr/<span class="built_in">local</span>/mysql</span><br><span class="line">datadir = /usr/<span class="built_in">local</span>/mysql/data</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line">log_error = /usr/<span class="built_in">local</span>/mysql/data/mysqld.local.err</span><br><span class="line">pid-file = /usr/<span class="built_in">local</span>/mysql/data/mysqld.local.pid</span><br><span class="line">user = mysql</span><br><span class="line"></span><br><span class="line">sql_mode = NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES</span><br><span class="line"></span><br><span class="line">[client]</span><br><span class="line">port = 3306</span><br><span class="line">socket = /tmp/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="comment"># localhost work, but costumer's host dosen't work, and I don't know why</span></span><br><span class="line">default_password_lifetime = 180</span><br><span class="line"></span><br><span class="line"><span class="comment"># load plugin of validate_password.so</span></span><br><span class="line">plugin-load=validate_password.so</span><br><span class="line">validate_password_length = 8</span><br><span class="line">validate_password_policy = 1</span><br><span class="line">validate-password=FORCE_PLUS_PERMANENT</span><br><span class="line"></span><br><span class="line"><span class="comment"># load plugin of connetion_control.so</span></span><br><span class="line"> plugin-load-add = connection_control.so</span><br><span class="line"><span class="comment"># force enable plugin</span></span><br><span class="line"><span class="comment"># connection-control = FORCE_PLUS_PREMANENT</span></span><br><span class="line"><span class="comment"># connection-control-failed-login-attempts = FORCE_PLUS_PREMANENT</span></span><br><span class="line"><span class="comment"># connection_control_failed_connections_threshold = 3</span></span><br><span class="line"><span class="comment"># connection_control_max_connection_delay = 2147483647</span></span><br><span class="line"><span class="comment"># connection_control_min_connection_delay = 10000</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="3-mysql-5-6-ä¸-5-7çš„åŒºåˆ«"><a href="#3-mysql-5-6-ä¸-5-7çš„åŒºåˆ«" class="headerlink" title="3.mysql 5.6 ä¸ 5.7çš„åŒºåˆ«"></a>3.mysql 5.6 ä¸ 5.7çš„åŒºåˆ«</h1><p>mysql5.6çš„ä¸ä¼šå¯¹ä¹‹å‰åˆ›å»ºçš„ç”¨æˆ·é€ æˆå½±å“ï¼Œä¸æ”¹å¯†ç ä¹ŸOK</p>
<p>mysql5.7çš„ä¼šæ£€æµ‹ä¹‹å‰çš„ç”¨æˆ·ï¼Œå¦‚æœå¯†ç å¼ºåº¦ä¸å¤Ÿï¼Œä¼šå¼ºåˆ¶è¦æ±‚ä¿®æ”¹å¯†ç </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/19/nmapå‘½ä»¤-åŸºç¡€ç”¨æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/19/nmapå‘½ä»¤-åŸºç¡€ç”¨æ³•/" itemprop="url">nmapå‘½ä»¤--åŸºç¡€ç”¨æ³•</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-19T17:34:35+08:00">
                2018-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ–‡ç« æ¥æº: <a href="https://www.cnblogs.com/nmap/p/6232207.html" target="_blank" rel="noopener">nmapå‘½ä»¤â€”â€“åŸºç¡€ç”¨æ³•</a></p>
<p>ç³»ç»Ÿæ¼æ´æ‰«æä¹‹ç‹-nmap</p>
<p>NMapï¼Œä¹Ÿå°±æ˜¯Network Mapperï¼Œæ˜¯Linuxä¸‹çš„ç½‘ç»œæ‰«æå’Œå—…æ¢å·¥å…·åŒ…ã€‚</p>
<p>å…¶åŸºæœ¬åŠŸèƒ½æœ‰ä¸‰ä¸ªï¼š</p>
<p>ï¼ˆ1ï¼‰æ˜¯æ‰«æä¸»æœºç«¯å£ï¼Œå—…æ¢æ‰€æä¾›çš„ç½‘ç»œæœåŠ¡</p>
<p>ï¼ˆ2ï¼‰æ˜¯æ¢æµ‹ä¸€ç»„ä¸»æœºæ˜¯å¦åœ¨çº¿</p>
<p>ï¼ˆ3ï¼‰è¿˜å¯ä»¥æ¨æ–­ä¸»æœºæ‰€ç”¨çš„æ“ä½œç³»ç»Ÿï¼Œåˆ°è¾¾ä¸»æœºç»è¿‡çš„è·¯ç”±ï¼Œç³»ç»Ÿå·²å¼€æ”¾ç«¯å£çš„è½¯ä»¶ç‰ˆæœ¬</p>
<blockquote>
<p>nmapç«¯å£çŠ¶æ€è§£æ<br>open ï¼š åº”ç”¨ç¨‹åºåœ¨è¯¥ç«¯å£æ¥æ”¶ TCP è¿æ¥æˆ–è€… UDP æŠ¥æ–‡ã€‚<br>closed ï¼šå…³é—­çš„ç«¯å£å¯¹äºnmapä¹Ÿæ˜¯å¯è®¿é—®çš„ï¼Œ å®ƒæ¥æ”¶nmapæ¢æµ‹æŠ¥æ–‡å¹¶ä½œå‡ºå“åº”ã€‚ä½†æ²¡æœ‰åº”ç”¨ç¨‹åºåœ¨å…¶ä¸Šç›‘å¬ã€‚<br>filtered ï¼šç”±äºåŒ…è¿‡æ»¤é˜»æ­¢æ¢æµ‹æŠ¥æ–‡åˆ°è¾¾ç«¯å£ï¼Œnmapæ— æ³•ç¡®å®šè¯¥ç«¯å£æ˜¯å¦å¼€æ”¾ã€‚è¿‡æ»¤å¯èƒ½æ¥è‡ªä¸“ä¸šçš„é˜²ç«å¢™è®¾å¤‡ï¼Œè·¯ç”±è§„åˆ™ æˆ–è€…ä¸»æœºä¸Šçš„è½¯ä»¶é˜²ç«å¢™ã€‚<br>unfiltered ï¼šæœªè¢«è¿‡æ»¤çŠ¶æ€æ„å‘³ç€ç«¯å£å¯è®¿é—®ï¼Œä½†æ˜¯nmapæ— æ³•ç¡®å®šå®ƒæ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­ã€‚ åªæœ‰ç”¨äºæ˜ å°„é˜²ç«å¢™è§„åˆ™é›†çš„ ACK æ‰«ææ‰ä¼šæŠŠç«¯å£åˆ†ç±»åˆ°è¿™ä¸ªçŠ¶æ€ã€‚<br>open | filtered ï¼šæ— æ³•ç¡®å®šç«¯å£æ˜¯å¼€æ”¾è¿˜æ˜¯è¢«è¿‡æ»¤ï¼Œ å¼€æ”¾çš„ç«¯å£ä¸å“åº”å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚æ²¡æœ‰å“åº”ä¹Ÿå¯èƒ½æ„å‘³ç€æŠ¥æ–‡è¿‡æ»¤å™¨ä¸¢å¼ƒäº†æ¢æµ‹æŠ¥æ–‡æˆ–è€…å®ƒå¼•å‘çš„ä»»ä½•ååº”ã€‚UDPï¼ŒIPåè®®,FIN, Null ç­‰æ‰«æä¼šå¼•èµ·ã€‚<br>closed|filteredï¼šï¼ˆå…³é—­æˆ–è€…è¢«è¿‡æ»¤çš„ï¼‰ï¼šæ— æ³•ç¡®å®šç«¯å£æ˜¯å…³é—­çš„è¿˜æ˜¯è¢«è¿‡æ»¤çš„</p>
</blockquote>
<p>nmapæœ‰windowså’Œlinux</p>
<p>Nmapæ˜¯ä¸€æ¬¾ç½‘ç»œæ‰«æå’Œä¸»æœºæ£€æµ‹çš„éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚Nmapæ˜¯ä¸å±€é™äºä»…ä»…æ”¶é›†ä¿¡æ¯å’Œæšä¸¾ï¼ŒåŒæ—¶å¯ä»¥ç”¨æ¥ä½œä¸ºä¸€ä¸ªæ¼æ´æ¢æµ‹å™¨æˆ–å®‰å…¨æ‰«æå™¨ã€‚å®ƒå¯ä»¥é€‚ç”¨äºwinodws,linux,macç­‰æ“ä½œç³»ç»Ÿ<br>ä»ä¸‹é¢å®˜ç½‘å¯ä»¥ä¸‹è½½exeç¨‹åºåŒ…å’ŒzipåŒ…<br><a href="https://nmap.org/download.html#windows" target="_blank" rel="noopener">https://nmap.org/download.html#windows</a></p>
<p>nmapå¸¸ç”¨å‚æ•°</p>
<p>nmapæ‰«æé€Ÿåº¦è¦æ¯”ncå¿«</p>
<p>é¢æ˜¯ä¸€äº›åŸºæœ¬çš„å‘½ä»¤å’Œå®ƒä»¬çš„ç”¨æ³•çš„ä¾‹å­ï¼šæ‰«æå•ä¸€çš„ä¸€ä¸ªä¸»æœºï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><p>å‡†å¤‡ä¸¤å°æœºå™¨</p>
<p>ä¸»æœºAï¼šipåœ°å€ 10.0.1.161</p>
<p>ä¸»æœºBï¼šipåœ°å€ 10.0.1.162</p>
<p>Bæœºå™¨å®‰è£…nmapçš„åŒ…ï¼ˆè¿™ä¸ªå·¥å…·æ¯”è¾ƒå¼ºå¤§ï¼Œä¹ æƒ¯ä¸Šæ¯å°æœºå™¨éƒ½å®‰è£…ï¼‰<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nmap -y</span><br></pre></td></tr></table></figure></p>
<h2 id="ç«¯å£æ‰«æéƒ¨åˆ†"><a href="#ç«¯å£æ‰«æéƒ¨åˆ†" class="headerlink" title="ç«¯å£æ‰«æéƒ¨åˆ†"></a>ç«¯å£æ‰«æéƒ¨åˆ†</h2><h3 id="å‰æœŸå‡†å¤‡-1"><a href="#å‰æœŸå‡†å¤‡-1" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h3><p>Bæœºå™¨ä½¿ç”¨nmapå»æ‰«æAæœºå™¨ï¼Œæ‰«æä¹‹å‰ï¼ŒAæœºå™¨å…ˆæŸ¥çœ‹è‡ªå·±ä¸Šé¢æœ‰å“ªäº›ç«¯å£åœ¨è¢«å ç”¨</p>
<p>Aæœºå™¨ä¸ŠæŸ¥çœ‹æœ¬åœ°ipv4çš„ç›‘å¬ç«¯å£</p>
<blockquote>
<p>netstatå‚æ•°è§£é‡Šï¼š<br>-l  (listen) ä»…åˆ—å‡º Listen (ç›‘å¬) çš„æœåŠ¡<br>-t  (tcp) ä»…æ˜¾ç¤ºtcpç›¸å…³å†…å®¹<br>-n (numeric) ç›´æ¥æ˜¾ç¤ºipåœ°å€ä»¥åŠç«¯å£ï¼Œä¸è§£æä¸ºæœåŠ¡åæˆ–è€…ä¸»æœºå<br>-p (pid) æ˜¾ç¤ºå‡ºsocketæ‰€å±çš„è¿›ç¨‹PID ä»¥åŠè¿›ç¨‹åå­—<br>â€“inet æ˜¾ç¤ºipv4ç›¸å…³åè®®çš„ç›‘å¬</p>
</blockquote>
<p>æŸ¥çœ‹IPV4ç«¯å£ä¸Šçš„tcpçš„ç›‘å¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@A ~] netstat -lntp --inet</span><br><span class="line"></span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name  </span><br><span class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      2157/sshd          </span><br><span class="line">tcp        0      0 127.0.0.1:631               0.0.0.0:*                   LISTEN      1930/cupsd         </span><br><span class="line">tcp        0      0 127.0.0.1:25                0.0.0.0:*                   LISTEN      2365/master        </span><br><span class="line">tcp        0      0 0.0.0.0:13306               0.0.0.0:*                   LISTEN      21699/mysqld       </span><br><span class="line">tcp        0      0 0.0.0.0:873                 0.0.0.0:*                   LISTEN      2640/rsync         </span><br><span class="line">tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      21505/rpcbind</span><br></pre></td></tr></table></figure>
<p>è¿‡æ»¤æ‰ç›‘æ§åœ¨127.0.0.1çš„ç«¯å£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@A ~] netstat   -lntp    --inet | grep -v 127.0.0.1</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name  </span><br><span class="line">tcp        0      0 0.0.0.0:22                  0.0.0.0:*                   LISTEN      2157/sshd          </span><br><span class="line">tcp        0      0 0.0.0.0:13306               0.0.0.0:*                   LISTEN      21699/mysqld       </span><br><span class="line">tcp        0      0 0.0.0.0:873                 0.0.0.0:*                   LISTEN      2640/rsync         </span><br><span class="line">tcp        0      0 0.0.0.0:111                 0.0.0.0:*                   LISTEN      21505/rpcbind</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«ætcpç«¯å£"><a href="#æ‰«ætcpç«¯å£" class="headerlink" title="æ‰«ætcpç«¯å£"></a>æ‰«ætcpç«¯å£</h3><p>Bæœºå™¨ä¸Šä½¿ç”¨nmapæ‰«æAæœºå™¨æ‰€æœ‰ç«¯å£ï¼ˆ-påé¢ä¹Ÿå¯ä»¥è·Ÿç©ºæ ¼ï¼‰</p>
<p>ä¸‹é¢è¡¨ç¤ºæ‰«æAæœºå™¨çš„1åˆ°65535æ‰€æœ‰åœ¨ç›‘å¬çš„tcpç«¯å£ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap 10.0.1.161  -p1-65535</span><br></pre></td></tr></table></figure></p>
<p>æŒ‡å®šç«¯å£èŒƒå›´ä½¿ç”¨-på‚æ•°ï¼Œå¦‚æœä¸æŒ‡å®šè¦æ‰«æçš„ç«¯å£ï¼ŒNmapé»˜è®¤æ‰«æä»1åˆ°1024å†åŠ ä¸Šnmap-servicesåˆ—å‡ºçš„ç«¯å£<br>nmap-servicesæ˜¯ä¸€ä¸ªåŒ…å«å¤§çº¦2200ä¸ªè‘—åçš„æœåŠ¡çš„æ•°æ®åº“ï¼ŒNmapé€šè¿‡æŸ¥è¯¢è¯¥æ•°æ®åº“å¯ä»¥æŠ¥å‘Šé‚£äº›ç«¯å£å¯èƒ½å¯¹åº”äºä»€ä¹ˆæœåŠ¡å™¨ï¼Œä½†ä¸ä¸€å®šæ­£ç¡®ã€‚<br>æ‰€ä»¥æ­£ç¡®æ‰«æä¸€ä¸ªæœºå™¨å¼€æ”¾ç«¯å£çš„æ–¹æ³•æ˜¯ä¸Šé¢å‘½ä»¤ã€‚-p1-65535<br>æ³¨æ„ï¼Œnmapæœ‰è‡ªå·±çš„åº“ï¼Œå­˜æ”¾ä¸€äº›å·²çŸ¥çš„æœåŠ¡å’Œå¯¹åº”ç«¯å£å·ï¼Œå‡å¦‚æœ‰çš„æœåŠ¡ä¸åœ¨nmap-servicesï¼Œå¯èƒ½nmapå°±ä¸ä¼šå»æ‰«æï¼Œè¿™å°±æ˜¯æ˜æ˜ä¸€äº›ç«¯å£å·²ç»æ˜¯å¤„äºç›‘å¬çŠ¶æ€ï¼Œnmapé»˜è®¤æ²¡æ‰«æå‡ºæ¥çš„åŸå› ï¼Œéœ€è¦åŠ å…¥-på‚æ•°è®©å…¶æ‰«ææ‰€æœ‰ç«¯å£ã€‚<br>è™½ç„¶ç›´æ¥ä½¿ç”¨nmap 10.0.1.161ä¹Ÿå¯ä»¥æ‰«æå‡ºå¼€æ”¾çš„ç«¯å£ï¼Œä½†æ˜¯ä½¿ç”¨-p1-65535 èƒ½æ˜¾ç¤ºå‡ºæœ€å¤šçš„ç«¯å£<br>åŒºåˆ«åœ¨äºä¸åŠ -p æ—¶ï¼Œæ˜¾ç¤ºçš„éƒ½æ˜¯å·²çŸ¥åè®®çš„ç«¯å£ï¼Œå¯¹äºæœªçŸ¥åè®®çš„ç«¯å£æ²¡æ˜¾ç¤º</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap  10.0.1.161  -p1-65535</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:11 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00017s latency).</span><br><span class="line">Not shown: 65531 closed ports</span><br><span class="line">PORT      STATE SERVICE</span><br><span class="line">22/tcp    open  ssh</span><br><span class="line">111/tcp   open  rpcbind</span><br><span class="line">873/tcp   open  rsync</span><br><span class="line">13306/tcp open  unknown</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 2.49 seconds</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸åŠ -p1-65535ï¼Œå¯¹äºæœªçŸ¥æœåŠ¡çš„ç«¯å£ï¼ˆAæœºå™¨çš„13306ç«¯å£ï¼‰å°±æ²¡æ³•æ‰«æåˆ°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap  10.0.1.161</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:12 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.000089s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.43 seconds</span><br></pre></td></tr></table></figure>
<p>æ‰«æä¸€ä¸ªIPçš„å¤šä¸ªç«¯å£</p>
<p>è¿ç»­çš„ç«¯å£å¯ä»¥ä½¿ç”¨æ¨ªçº¿è¿èµ·æ¥ï¼Œç«¯å£ä¹‹é—´å¯ä»¥ä½¿ç”¨é€—å·éš”å¼€</p>
<p>Aæœºå™¨ä¸Šå†å¯åŠ¨ä¸¤ä¸ªtcpçš„ç›‘å¬ï¼Œåˆ†åˆ«å ç”¨7777å’Œ8888ç«¯å£ï¼Œç”¨äºæµ‹è¯•ï¼ŒåŠ å…¥&amp;ç¬¦å·å¯ä»¥æ”¾å…¥åå°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@A ~] nc -l 7777&amp;</span><br><span class="line">[1] 21779</span><br><span class="line">[root@A ~] nc -l 8888&amp;</span><br><span class="line">[2] 21780</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap  10.0.1.161   -p20-200,7777,8888</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:32 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00038s latency).</span><br><span class="line">Not shown: 179 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">22/tcp   open  ssh</span><br><span class="line">111/tcp  open  rpcbind</span><br><span class="line">7777/tcp open  cbt</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.17 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«æudpç«¯å£"><a href="#æ‰«æudpç«¯å£" class="headerlink" title="æ‰«æudpç«¯å£"></a>æ‰«æudpç«¯å£</h3><p>å…ˆæŸ¥çœ‹å“ªäº›ipv4çš„ç›‘å¬ï¼Œä½¿ç”¨grep -væ’é™¤å›ç¯æ¥å£ä¸Šçš„ç›‘å¬</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@A ~] netstat -lnup --inet |grep -v 127.0.0.1</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address               Foreign Address             State       PID/Program name  </span><br><span class="line">udp        0      0 0.0.0.0:111                 0.0.0.0:*                               21505/rpcbind      </span><br><span class="line">udp        0      0 0.0.0.0:631                 0.0.0.0:*                               1930/cupsd         </span><br><span class="line">udp        0      0 10.0.1.161:123              0.0.0.0:*                               2261/ntpd          </span><br><span class="line">udp        0      0 0.0.0.0:123                 0.0.0.0:*                               2261/ntpd          </span><br><span class="line">udp        0      0 0.0.0.0:904                 0.0.0.0:*                               21505/rpcbind</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-sUï¼šè¡¨ç¤ºudp scan ï¼Œ udpç«¯å£æ‰«æ<br>-Pnï¼šä¸å¯¹ç›®æ ‡è¿›è¡Œpingæ¢æµ‹ï¼ˆä¸åˆ¤æ–­ä¸»æœºæ˜¯å¦åœ¨çº¿ï¼‰ï¼ˆç›´æ¥æ‰«æç«¯å£ï¼‰<br>å¯¹äºudpç«¯å£æ‰«ææ¯”è¾ƒæ…¢ï¼Œæ‰«æå®Œ6ä¸‡å¤šä¸ªç«¯å£éœ€è¦20åˆ†é’Ÿå·¦å³</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap  -sU  10.0.1.161  -Pn</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:16 CST</span><br><span class="line">Stats: 0:12:54 elapsed; 0 hosts completed (1 up), 1 undergoing UDP Scan</span><br><span class="line">UDP Scan Timing: About 75.19% <span class="keyword">done</span>; ETC: 10:33 (0:04:16 remaining)</span><br><span class="line">Stats: 0:12:55 elapsed; 0 hosts completed (1 up), 1 undergoing UDP Scan</span><br><span class="line">UDP Scan Timing: About 75.29% <span class="keyword">done</span>; ETC: 10:33 (0:04:15 remaining)</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.0011s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE         SERVICE</span><br><span class="line">111/udp open          rpcbind</span><br><span class="line">123/udp open          ntp</span><br><span class="line">631/udp open|filtered ipp</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 1081.27 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«æå¤šä¸ªIPç”¨æ³•"><a href="#æ‰«æå¤šä¸ªIPç”¨æ³•" class="headerlink" title="æ‰«æå¤šä¸ªIPç”¨æ³•"></a>æ‰«æå¤šä¸ªIPç”¨æ³•</h3><p>ä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161  10.0.1.162</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:18 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.000060s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000070s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 2 IP addresses (2 hosts up) scanned <span class="keyword">in</span> 0.26 seconds</span><br></pre></td></tr></table></figure></p>
<p>ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸‹é¢æ–¹å¼é€—å·éš”å¼€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161,162</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:19 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00025s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000080s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 2 IP addresses (2 hosts up) scanned <span class="keyword">in</span> 0.81 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«æè¿ç»­çš„ipåœ°å€"><a href="#æ‰«æè¿ç»­çš„ipåœ°å€" class="headerlink" title="æ‰«æè¿ç»­çš„ipåœ°å€"></a>æ‰«æè¿ç»­çš„ipåœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161-162</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:20 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00011s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000030s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 2 IP addresses (2 hosts up) scanned <span class="keyword">in</span> 0.25 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«æä¸€ä¸ªå­ç½‘ç½‘æ®µæ‰€æœ‰IP"><a href="#æ‰«æä¸€ä¸ªå­ç½‘ç½‘æ®µæ‰€æœ‰IP" class="headerlink" title="æ‰«æä¸€ä¸ªå­ç½‘ç½‘æ®µæ‰€æœ‰IP"></a>æ‰«æä¸€ä¸ªå­ç½‘ç½‘æ®µæ‰€æœ‰IP</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap  10.0.3.0/24</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:21 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.3.1</span><br><span class="line">Host is up (0.020s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">23/tcp   open  telnet</span><br><span class="line">6666/tcp open  irc</span><br><span class="line">8888/tcp open  sun-answerbook</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.3.2</span><br><span class="line">Host is up (0.012s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT   STATE    SERVICE</span><br><span class="line">21/tcp filtered ftp</span><br><span class="line">22/tcp filtered ssh</span><br><span class="line">23/tcp open     telnet</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.3.3</span><br><span class="line">Host is up (0.018s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT   STATE    SERVICE</span><br><span class="line">21/tcp filtered ftp</span><br><span class="line">22/tcp filtered ssh</span><br><span class="line">23/tcp open     telnet</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 256 IP addresses (3 hosts up) scanned <span class="keyword">in</span> 14.91 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«ææ–‡ä»¶é‡Œçš„IP"><a href="#æ‰«ææ–‡ä»¶é‡Œçš„IP" class="headerlink" title="æ‰«ææ–‡ä»¶é‡Œçš„IP"></a>æ‰«ææ–‡ä»¶é‡Œçš„IP</h3><p>å¦‚æœä½ æœ‰ä¸€ä¸ªipåœ°å€åˆ—è¡¨ï¼Œå°†è¿™ä¸ªä¿å­˜ä¸ºä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå’Œnampåœ¨åŒä¸€ç›®å½•ä¸‹,æ‰«æè¿™ä¸ªtxtå†…çš„æ‰€æœ‰ä¸»æœºï¼Œç”¨æ³•å¦‚ä¸‹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] cat ip.txt</span><br><span class="line">10.0.1.161</span><br><span class="line">10.0.1.162</span><br><span class="line">[root@B ~] nmap -iL ip.txt</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:23 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00030s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000070s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 2 IP addresses (2 hosts up) scanned <span class="keyword">in</span> 0.68 seconds</span><br></pre></td></tr></table></figure></p>
<h3 id="æ‰«æåœ°å€æ®µæ˜¯æ’é™¤æŸä¸ªIPåœ°å€"><a href="#æ‰«æåœ°å€æ®µæ˜¯æ’é™¤æŸä¸ªIPåœ°å€" class="headerlink" title="æ‰«æåœ°å€æ®µæ˜¯æ’é™¤æŸä¸ªIPåœ°å€"></a>æ‰«æåœ°å€æ®µæ˜¯æ’é™¤æŸä¸ªIPåœ°å€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161-162  --exclude 10.0.1.162</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:24 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.0022s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.53 seconds</span><br></pre></td></tr></table></figure>
<h3 id="æ‰«ææ—¶æ’é™¤å¤šä¸ªIPåœ°å€"><a href="#æ‰«ææ—¶æ’é™¤å¤šä¸ªIPåœ°å€" class="headerlink" title="æ‰«ææ—¶æ’é™¤å¤šä¸ªIPåœ°å€"></a>æ‰«ææ—¶æ’é™¤å¤šä¸ªIPåœ°å€</h3><p>æ’é™¤è¿ç»­çš„ï¼Œå¯ä»¥ä½¿ç”¨æ¨ªçº¿è¿æ¥èµ·æ¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161-163   --exclude 10.0.1.162-163</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:25 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.161</span><br><span class="line">Host is up (0.00023s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line">873/tcp open  rsync</span><br><span class="line">MAC Address: 00:0C:29:56:DE:46 (VMware)</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.56 seconds</span><br></pre></td></tr></table></figure></p>
<p>ã€€ã€€<br>æ’é™¤åˆ†æ•£çš„ï¼Œä½¿ç”¨é€—å·éš”å¼€<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] nmap 10.0.1.161-163 --exclude 10.0.1.161,10.0.1.163</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:27 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000030s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.12 seconds</span><br></pre></td></tr></table></figure></p>
<p>æ‰«æå¤šä¸ªåœ°å€æ—¶æ’é™¤æ–‡ä»¶é‡Œçš„IPåœ°å€ï¼ˆå¯ä»¥ç”¨æ¥æ’é™¤ä¸è¿ç»­çš„IPåœ°å€ï¼‰<br>æŠŠ10.0.1.161å’Œ10.0.1.163æ·»åŠ åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œæ–‡ä»¶åå¯ä»¥éšæ„å–<br>ä¸‹é¢æ‰«æ10.0.1.161åˆ°10.0.1.163 è¿™3ä¸ªIPåœ°å€ï¼Œæ’é™¤10.0.1.161å’Œ10.0.1.163è¿™ä¸¤ä¸ªIP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@B ~] cat ex.txt</span><br><span class="line">10.0.1.161</span><br><span class="line">10.0.1.163</span><br><span class="line">[root@B ~] nmap 10.0.1.161-163  --excludefile ex.txt</span><br><span class="line"> </span><br><span class="line">Starting Nmap 5.51 ( http://nmap.org ) at 2016-12-29 10:29 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 10.0.1.162</span><br><span class="line">Host is up (0.0000050s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22/tcp  open  ssh</span><br><span class="line">111/tcp open  rpcbind</span><br><span class="line"> </span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 0.18 seconds</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/19/è®¾ç½®Linuxç”¨æˆ·è¿ç»­Næ¬¡è¾“å…¥é”™è¯¯å¯†ç è¿›è¡Œç™»é™†æ—¶ï¼Œè‡ªåŠ¨é”å®šXç§’/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/19/è®¾ç½®Linuxç”¨æˆ·è¿ç»­Næ¬¡è¾“å…¥é”™è¯¯å¯†ç è¿›è¡Œç™»é™†æ—¶ï¼Œè‡ªåŠ¨é”å®šXç§’/" itemprop="url">è®¾ç½®Linuxç”¨æˆ·è¿ç»­Næ¬¡è¾“å…¥é”™è¯¯å¯†ç è¿›è¡Œç™»é™†æ—¶ï¼Œè‡ªåŠ¨é”å®šXç§’</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-11-19T14:15:00+08:00">
                2018-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ–‡ç« æ¥æºï¼š<a href="https://blog.csdn.net/m0_37886429/article/details/79641551" target="_blank" rel="noopener">è®¾ç½®Linuxç”¨æˆ·è¿ç»­Næ¬¡è¾“å…¥é”™è¯¯å¯†ç è¿›è¡Œç™»é™†æ—¶ï¼Œè‡ªåŠ¨é”å®šXç§’</a></p>
<p>ä¸€ã€åœ¨å­—ç¬¦ç»ˆç«¯ä¸‹ï¼Œå®ç°æŸä¸€ç”¨æˆ·è¿ç»­é”™è¯¯ç™»é™†Næ¬¡åï¼Œå°±é”å®šè¯¥ç”¨æˆ·Xåˆ†é’Ÿ(pam_tally2)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ vim /etc/pam.d/login</span><br><span class="line"><span class="comment"># åœ¨#%PAM-1.0 ä¸‹æ–°èµ·ä¸€è¡Œï¼ŒåŠ å…¥</span></span><br><span class="line">auth required pam_tally2.so deny=3 unlock_time=5 even_deny_root root_unlock_time=10</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸é™åˆ¶rootç”¨æˆ·ï¼Œåˆ™å¯ä»¥å†™æˆ</span></span><br><span class="line">auth required pam_tally2.so deny=3 unlock_time=5</span><br><span class="line"></span><br><span class="line">even_deny_root    <span class="comment">#ä¹Ÿé™åˆ¶rootç”¨æˆ·ï¼›</span></span><br><span class="line">deny              <span class="comment"># è®¾ç½®æ™®é€šç”¨æˆ·å’Œrootç”¨æˆ·è¿ç»­é”™è¯¯ç™»é™†çš„æœ€å¤§æ¬¡æ•°ï¼Œè¶…è¿‡æœ€å¤§æ¬¡æ•°ï¼Œåˆ™é”å®šè¯¥ç”¨æˆ·ï¼›</span></span><br><span class="line">unlock_time       <span class="comment">#è®¾å®šæ™®é€šç”¨æˆ·é”å®šåï¼Œå¤šå°‘æ—¶é—´åè§£é”ï¼Œå•ä½æ˜¯ç§’ï¼›</span></span><br><span class="line">root_unlock_time  <span class="comment">#è®¾å®šrootç”¨æˆ·é”å®šåï¼Œå¤šå°‘æ—¶é—´åè§£é”ï¼Œå•ä½æ˜¯ç§’ï¼›</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¤‡æ³¨ï¼š </p>
<p>1ã€æ­¤å¤„ä½¿ç”¨çš„æ˜¯ pam_tally2 æ¨¡å—ï¼Œå¦‚æœä¸æ”¯æŒ pam_tally2 æ¨¡å—å¯ä»¥ä½¿ç”¨ pam_tally æ¨¡å—ã€‚å¦å¤–ï¼Œä¸åŒçš„pamç‰ˆæœ¬ï¼Œè®¾ç½®å¯èƒ½æœ‰æ‰€ä¸åŒï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥å‚ç…§ç›¸å…³æ¨¡å—çš„ä½¿ç”¨è§„åˆ™ã€‚ </p>
<p>2ã€ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ system-auth æ–‡ä»¶ä¸­ç›´æ¥æ·»åŠ è¿™äº›å‘½ä»¤ï¼Œä¿®æ”¹å®Œæˆåï¼Œå‡¡æ˜¯è°ƒç”¨ system-auth æ–‡ä»¶çš„æœåŠ¡ï¼Œéƒ½ä¼šç”Ÿæ•ˆã€‚å› ä¸ºæœ‰è‡ªåŠ¨è§£é”æ—¶é—´ï¼Œæ‰€ä»¥ï¼Œä¸ç”¨æ‹…å¿ƒå…¨éƒ¨é™åˆ¶åï¼Œä¼šå‡ºç°æ°¸è¿œæ— æ³•ç™»é™†çš„â€å°´å°¬â€æƒ…å†µã€‚ </p>
<p>3ã€å¯ä»¥ä½¿ç”¨ pam_tally2 -r -u username å‘½ä»¤ï¼Œæ‰‹åŠ¨æ¸…é™¤æŸç”¨æˆ·è®°å½•æ¬¡æ•°ã€‚</p>
</blockquote>
<p>äºŒã€è®¾ç½®Linuxç”¨æˆ·è¿ç»­Næ¬¡ç™»é™†å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨é”å®šXåˆ†é’Ÿ(pam_tally) </p>
<p>1ã€å¦‚æœæƒ³åœ¨æ‰€æœ‰ç™»é™†æ–¹å¼ä¸Šï¼Œé™åˆ¶æ‰€æœ‰ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ /etc/pam.d/system-auth ä¸­å¢åŠ 2è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auth  required  pam_tally.so  onerr=fail  no_magic_root</span><br><span class="line">account  required  pam_tally.so   deny=3  no_magic_root  even_deny_root_account  per_user  reset</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>deny   è®¾ç½®æ™®é€šç”¨æˆ·å’Œrootç”¨æˆ·è¿ç»­é”™è¯¯ç™»é™†çš„æœ€å¤§æ¬¡æ•°ï¼Œè¶…è¿‡æœ€å¤§æ¬¡æ•°ï¼Œåˆ™é”å®šè¯¥ç”¨æˆ·ï¼›<br>no_magic_root  è¿rootç”¨æˆ·ä¹Ÿåœ¨é™åˆ¶èŒƒå›´ï¼Œä¸ç»™rootç‰¹æ®Šæƒé™ã€‚<br>è¯¦ç»†å‚æ•°çš„å«ä¹‰ï¼Œå‚è§ /usr/share/doc/pam-xxxx/txts/README.pam_tally<br>å¦‚æœä¸æƒ³é™åˆ¶rootç”¨æˆ·ï¼Œå¯ä»¥å°† even_deny_root_account å–æ¶ˆæ‰ã€‚</p>
</blockquote>
<p>2ã€é’ˆå¯¹ä¸åŒæœåŠ¡æ¥é™åˆ¶ä¸åŒç™»é™†æ–¹å¼<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åªåœ¨æœ¬åœ°æ–‡æœ¬ç»ˆç«¯ä¸Šåšé™åˆ¶ï¼Œå¯ä»¥ç¼–è¾‘å¦‚ä¸‹æ–‡ä»¶ï¼Œæ·»åŠ çš„å†…å®¹å’Œä¸Šæ–¹ä¸€æ ·ã€‚</span></span><br><span class="line">vim /etc/pam.d/login</span><br><span class="line"></span><br><span class="line"><span class="comment">#åªåœ¨è¿œç¨‹telnetã€sshç™»é™†ä¸Šåšé™åˆ¶ï¼Œå¯ä»¥ç¼–è¾‘å¦‚ä¸‹æ–‡ä»¶ï¼Œæ·»åŠ çš„å†…å®¹å’Œä¸Šæ–¹ä¹Ÿä¸€æ ·ã€‚</span></span><br><span class="line">vim /etc/pam.d/remote</span><br><span class="line">vim /etc/pam.d/sshd</span><br></pre></td></tr></table></figure></p>
<p>3ã€æ‰‹åŠ¨è§£é™¤é”å®šï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æŸä¸€ç”¨æˆ·é”™è¯¯ç™»é™†æ¬¡æ•°ï¼š</span></span><br><span class="line">pam_tally â€“user username</span><br><span class="line"><span class="comment">#ä¾‹å¦‚ï¼ŒæŸ¥çœ‹workç”¨æˆ·çš„é”™è¯¯ç™»é™†æ¬¡æ•°ï¼š</span></span><br><span class="line">pam_tally â€“user work</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ¸…ç©ºæŸä¸€ç”¨æˆ·é”™è¯¯ç™»é™†æ¬¡æ•°ï¼š</span></span><br><span class="line">pam_tally â€“user username â€“reset</span><br><span class="line"><span class="comment">#ä¾‹å¦‚ï¼Œæ¸…ç©º work ç”¨æˆ·çš„é”™è¯¯ç™»é™†æ¬¡æ•°ï¼Œ</span></span><br><span class="line">pam_tally â€“user work â€“reset</span><br><span class="line"></span><br><span class="line">faillog -r å‘½ä»¤äº¦å¯ã€‚</span><br></pre></td></tr></table></figure>
<p>4ã€pam_tallyæ²¡æœ‰è‡ªåŠ¨è§£é”åŠŸèƒ½</p>
<blockquote>
<p>å› ä¸ºpam_tallyæ²¡æœ‰è‡ªåŠ¨è§£é”çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ï¼Œåœ¨è®¾ç½®é™åˆ¶æ—¶ï¼Œè¦å¤šåŠ æ³¨æ„ï¼Œä¸‡ä¸€å…¨åšäº†é™åˆ¶ï¼Œè€Œ rootç”¨æˆ·åˆè¢«é”å®šäº†ï¼Œå°±åªèƒ½å¤Ÿè¿›å•ç”¨æˆ·æ¨¡å¼è§£é”äº†ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ·»åŠ crontabä»»åŠ¡ï¼Œè¾¾åˆ°å®šæ—¶è‡ªåŠ¨è§£é”çš„åŠŸèƒ½ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨/etc /pam.d/system-auth æ–‡ä»¶ä¸­æ·»åŠ äº†pam_tallyçš„è¯ï¼Œå½“rootè¢«é”å®šåï¼Œcrontabä»»åŠ¡ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥ï¼Œæœ€å¥½ä¸è¦åœ¨system-auth æ–‡ä»¶ä¸­æ·»åŠ pam_tallyã€‚</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/12/14/centos6æ·»åŠ nodeç³»ç»Ÿserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/12/14/centos6æ·»åŠ nodeç³»ç»Ÿserver/" itemprop="url">centos6æ·»åŠ nodeç³»ç»Ÿserver</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-12-14T20:35:39+08:00">
                2017-12-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ–‡ç« æ¥æº: <a href="http://www.alliedjeep.com/127869.htm" target="_blank" rel="noopener">CentOS5.6ä¸‹ç¦»çº¿éƒ¨ç½²NodeJSç¯å¢ƒå’Œå·¥ç¨‹ä»£ç ï¼Œå¹¶æ·»åŠ foreverçš„å¼€æœºè‡ªå¯åŠ¨æœåŠ¡</a></p>
<h1 id="1-centos6-å¯åŠ¨-å…³é—­æœåŠ¡"><a href="#1-centos6-å¯åŠ¨-å…³é—­æœåŠ¡" class="headerlink" title="1. centos6 å¯åŠ¨/å…³é—­æœåŠ¡"></a>1. centos6 å¯åŠ¨/å…³é—­æœåŠ¡</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service server start/stop/restart</span><br></pre></td></tr></table></figure>
<h1 id="2-æ·»åŠ node-server"><a href="#2-æ·»åŠ node-server" class="headerlink" title="2. æ·»åŠ node server"></a>2. æ·»åŠ node server</h1><p>è¿™æ®µè„šæœ¬å«ä¹‰æœ‰å¿ƒæƒ…å†è¡¥å……äº†ã€‚ã€‚ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sdu_server æ˜¯ä¸ºè‡ªå®šä¹‰æœåŠ¡èµ·çš„åå­—,å¯ä»»æ„</span></span><br><span class="line">vim /etc/init.d/sdu_server</span><br><span class="line"></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># chkconfig:345 99 01 è¿™ä¸€ä¸²ä¸çŸ¥é“å¹²å˜›</span></span><br><span class="line"><span class="comment"># description: å›¾ä¹¦æŸ¥è¯¢æœåŠ¡</span></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡çš„è„šæœ¬è·¯å¾„ /opt/project/sdulibrary/library_db</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨node forever ç®¡ç†node server</span></span><br><span class="line">DIR=<span class="string">'/opt/project/sdulibrary/library_db'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> start_app &#123;</span><br><span class="line">  forever start -a <span class="string">"<span class="variable">$DIR</span>/getlist.js"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> stop_app &#123;</span><br><span class="line">  forever stop <span class="string">"<span class="variable">$DIR</span>/getlist.js"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line">  start)</span><br><span class="line">    start_app ;;</span><br><span class="line">  stop)</span><br><span class="line">    stop_app ;;</span><br><span class="line">  restart)</span><br><span class="line">    stop_app</span><br><span class="line">    start_app</span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"usage: clearstonecc &#123;start|stop&#125;"</span> ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></p>
<h1 id="3-å¯åŠ¨è‡ªå®šä¹‰æœåŠ¡"><a href="#3-å¯åŠ¨è‡ªå®šä¹‰æœåŠ¡" class="headerlink" title="3. å¯åŠ¨è‡ªå®šä¹‰æœåŠ¡"></a>3. å¯åŠ¨è‡ªå®šä¹‰æœåŠ¡</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service sdu_server start</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/30/centos7-nginx-php/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/30/centos7-nginx-php/" itemprop="url">centos7-nginx-php</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-30T23:08:13+08:00">
                2017-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-ç³»ç»Ÿç¯å¢ƒ"><a href="#1-ç³»ç»Ÿç¯å¢ƒ" class="headerlink" title="1.ç³»ç»Ÿç¯å¢ƒ"></a>1.ç³»ç»Ÿç¯å¢ƒ</h1><p>é˜¿é‡Œäº‘æœåŠ¡å™¨ centos7</p>
<p>nginx version: nginx/1.12.2</p>
<h1 id="2-ä¸€é”®php"><a href="#2-ä¸€é”®php" class="headerlink" title="2.ä¸€é”®php"></a>2.ä¸€é”®php</h1><p>å®‰è£…å¹¶éªŒè¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y php</span><br><span class="line"></span><br><span class="line">php -v</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºä»¥ä¸‹å†…å®¹åˆ™å®‰è£…æˆåŠŸ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PHP 5.4.16 (cli) (built: Nov 15 2017 16:33:54)</span><br><span class="line">Copyright (c) 1997-2013 The PHP Group</span><br><span class="line">Zend Engine v2.4.0, Copyright (c) 1998-2013 Zend Technologies</span><br></pre></td></tr></table></figure></p>
<p>å¯åŠ¨phpâ€“å¾ˆé‡è¦,è¢«è¿™ä¸ªå‘½ä»¤å¡äº†ä¸€æ™šä¸Š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start php-fpm</span><br></pre></td></tr></table></figure>
<p>éªŒè¯æ˜¯å¦æˆåŠŸ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@liuhuiiris php_wx]<span class="comment"># ps -ef | grep php-fpm</span></span><br><span class="line"></span><br><span class="line">root     31847     1  0 23:02 ?        00:00:00 php-fpm: master process (/etc/php-fpm.conf)</span><br><span class="line">apache   31849 31847  0 23:02 ?        00:00:00 php-fpm: pool www</span><br><span class="line">apache   31850 31847  0 23:02 ?        00:00:00 php-fpm: pool www</span><br><span class="line">apache   31851 31847  0 23:02 ?        00:00:00 php-fpm: pool www</span><br><span class="line">apache   31852 31847  0 23:02 ?        00:00:00 php-fpm: pool www</span><br><span class="line">apache   31853 31847  0 23:02 ?        00:00:00 php-fpm: pool www</span><br><span class="line">root     31855 31234  0 23:02 pts/1    00:00:00 grep --color=auto php-fpm</span><br></pre></td></tr></table></figure></p>
<h1 id="3-é…ç½®nginx"><a href="#3-é…ç½®nginx" class="headerlink" title="3. é…ç½®nginx"></a>3. é…ç½®nginx</h1><p>é…ç½®å¥½ç›¸åº”è·¯å¾„å³å¯ï¼Œ127.0.0.1:9000ä¸è¦æ“…è‡ªä¿®æ”¹<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    root   /opt/workspace/php_wx;</span><br><span class="line">    index  index.html index.htm index.php;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~ \.php$ &#123;</span><br><span class="line">    <span class="comment">#root           /opt/workspace/php_wx;</span></span><br><span class="line">    fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">    fastcgi_index  index.php;</span><br><span class="line">    fastcgi_param  SCRIPT_FILENAME  /opt/workspace/php_wx<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">    include        fastcgi_params;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>é…ç½®å¥½nginxåreload<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure></p>
<p>æµ‹è¯•php<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /opt/workspace/php_wx/info.php</span><br><span class="line"></span><br><span class="line">&lt;?php phpinfo(); ?&gt;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ IP/info.php,å¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="https://liuhuiiris.github.io/img/php/php.png" alt="php"></p>
<p>å¤§åŠŸå‘Šæˆï¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/30/linux-è½¯é“¾æ¥-ç¡¬é“¾æ¥/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/30/linux-è½¯é“¾æ¥-ç¡¬é“¾æ¥/" itemprop="url">linux è½¯é“¾æ¥|ç¡¬é“¾æ¥</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-30T21:28:33+08:00">
                2017-11-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å‚è€ƒæ–‡ç« : <a href="http://www.jianshu.com/p/05384fc68048?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" target="_blank" rel="noopener">Linux ç³»ç»Ÿç»“æ„è¯¦è§£</a></p>
<p>æ–‡ç« æ¥æº: ç™¾åº¦ç™¾ç§‘</p>
<h1 id="1-è½¯é“¾æ¥"><a href="#1-è½¯é“¾æ¥" class="headerlink" title="1.è½¯é“¾æ¥"></a>1.è½¯é“¾æ¥</h1><p>è½¯é“¾æ¥åˆå«ç¬¦å·é“¾æ¥ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å¦ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„åã€‚å¯ä»¥æ˜¯ä»»æ„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥é“¾æ¥ä¸åŒæ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶ã€‚<br>é“¾æ¥æ–‡ä»¶ç”šè‡³å¯ä»¥é“¾æ¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œè¿™å°±äº§ç”Ÿä¸€èˆ¬ç§°ä¹‹ä¸ºâ€æ–­é“¾â€çš„ç°è±¡ï¼Œé“¾æ¥æ–‡ä»¶ç”šè‡³å¯ä»¥å¾ªç¯é“¾æ¥è‡ªå·±ã€‚ç±»ä¼¼äºç¼–ç¨‹è¯­è¨€ä¸­çš„é€’å½’ã€‚<br>è½¯é“¾æ¥æ–‡ä»¶åªæ˜¯å…¶æºæ–‡ä»¶çš„ä¸€ä¸ªæ ‡è®°ï¼Œå½“åˆ é™¤äº†æºæ–‡ä»¶åï¼Œé“¾æ¥æ–‡ä»¶ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œè™½ç„¶ä»ä¿ç•™æ–‡ä»¶åï¼Œä½†å´ä¸èƒ½æŸ¥çœ‹è½¯é“¾æ¥æ–‡ä»¶çš„å†…å®¹äº†ã€‚</p>
<h1 id="2-è½¯é“¾æ¥ä½¿ç”¨æ–¹æ³•"><a href="#2-è½¯é“¾æ¥ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2.è½¯é“¾æ¥ä½¿ç”¨æ–¹æ³•"></a>2.è½¯é“¾æ¥ä½¿ç”¨æ–¹æ³•</h1><p>ç”Ÿæˆè½¯é“¾æ¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s source_file softlink_file</span><br></pre></td></tr></table></figure></p>
<p>åœ¨å¯¹ç¬¦å·æ–‡ä»¶è¿›è¡Œè¯»æˆ–å†™æ“ä½œçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠè¯¥æ“ä½œè½¬æ¢ä¸ºå¯¹æºæ–‡ä»¶çš„æ“ä½œï¼Œä½†åˆ é™¤é“¾æ¥æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä»…ä»…åˆ é™¤é“¾æ¥æ–‡ä»¶ï¼Œè€Œä¸åˆ é™¤æºæ–‡ä»¶æœ¬èº«ã€‚</p>
<p>åˆ é™¤ç¡¬/è½¯é“¾æ¥ç”¨<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm softlink_file</span><br></pre></td></tr></table></figure></p>
<p>æˆ–<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unlink softlink_file</span><br></pre></td></tr></table></figure></p>
<h1 id="3-ç¡¬é“¾æ¥"><a href="#3-ç¡¬é“¾æ¥" class="headerlink" title="3.ç¡¬é“¾æ¥"></a>3.ç¡¬é“¾æ¥</h1><p>ç¡¬é“¾æ¥(hard link, ä¹Ÿç§°é“¾æ¥)å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åã€‚å†è¯´ç™½ç‚¹ï¼Œæ‰€è°“é“¾æ¥æ— éæ˜¯æŠŠæ–‡ä»¶åå’Œè®¡ç®—æœºæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨çš„èŠ‚ç‚¹å·é“¾æ¥èµ·æ¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨å¤šä¸ªæ–‡ä»¶åä¸åŒä¸€ä¸ªæ–‡ä»¶è¿›è¡Œé“¾æ¥ï¼Œè¿™äº›æ–‡ä»¶åå¯ä»¥åœ¨åŒä¸€ç›®å½•æˆ–ä¸åŒç›®å½•ã€‚</p>
<p>ç¡¬é“¾æ¥åªèƒ½å¼•ç”¨åŒä¸€æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚å®ƒå¼•ç”¨çš„æ˜¯æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ç‰©ç†ç´¢å¼•(ä¹Ÿç§°ä¸º inode)ã€‚å½“æ‚¨ç§»åŠ¨æˆ–åˆ é™¤åŸå§‹æ–‡ä»¶æ—¶ï¼Œç¡¬é“¾æ¥ä¸ä¼šè¢«ç ´åï¼Œå› ä¸ºå®ƒæ‰€å¼•ç”¨çš„æ˜¯æ–‡ä»¶çš„ç‰©ç†æ•°æ®è€Œä¸æ˜¯æ–‡ä»¶åœ¨æ–‡ä»¶ç»“æ„ä¸­çš„ä½ç½®ã€‚ç¡¬é“¾æ¥çš„æ–‡ä»¶ä¸éœ€è¦ç”¨æˆ·æœ‰è®¿é—®åŸå§‹æ–‡ä»¶çš„æƒé™ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºåŸå§‹æ–‡ä»¶çš„ä½ç½®ï¼Œè¿™æ ·æœ‰åŠ©äºæ–‡ä»¶çš„å®‰å…¨ã€‚å¦‚æœæ‚¨åˆ é™¤çš„æ–‡ä»¶æœ‰ç›¸åº”çš„ç¡¬é“¾æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶ä¾ç„¶ä¼šä¿ç•™ï¼Œç›´åˆ°æ‰€æœ‰å¯¹å®ƒçš„å¼•ç”¨éƒ½è¢«åˆ é™¤ã€‚</p>
<h1 id="4-ç¡¬é“¾æ¥ä½¿ç”¨æ–¹æ³•"><a href="#4-ç¡¬é“¾æ¥ä½¿ç”¨æ–¹æ³•" class="headerlink" title="4.ç¡¬é“¾æ¥ä½¿ç”¨æ–¹æ³•"></a>4.ç¡¬é“¾æ¥ä½¿ç”¨æ–¹æ³•</h1><p>ç”Ÿæˆç¡¬é“¾æ¥<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln source_file softlink_file</span><br></pre></td></tr></table></figure></p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<p>1ã€ä¿®æ”¹æºæ–‡ä»¶æˆ–è€…ç›®æ ‡æ–‡ä»¶, å¯¹åº”å¦å¤–ä¸€ä¸ªæ–‡ä»¶ä¹Ÿä¼šå‘ç”Ÿç›¸åº”ä¿®æ”¹.</p>
<p>2ã€åˆ é™¤æºæ–‡ä»¶æˆ–è€…ç›®æ ‡æ–‡ä»¶, å¯¹å¦å¤–ä¸€ä¸ªæ–‡ä»¶æ²¡æœ‰å½±å“.</p>
<p>3ã€ç¡¬é“¾æ¥æ–‡ä»¶ä¸å ç”¨å­˜å‚¨ç©ºé—´.</p>
<p>4ã€ä¸èƒ½å¯¹ç›®å½•æ–‡ä»¶è¿›è¡Œåˆ›å»ºç¡¬é“¾æ¥æ“ä½œ.</p>
<p>5ã€ç¡¬é“¾æ¥æ–‡ä»¶ä¸èƒ½è·¨æ–‡ä»¶ç³»ç»Ÿ.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/11/29/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hui Liu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar/1.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="liuhuiIris">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/29/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-11-29T22:24:18+08:00">
                2017-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/avatar/1.png"
                alt="Hui Liu" />
            
              <p class="site-author-name" itemprop="name">Hui Liu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/liuhuiIris" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:liuhuiiris@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/liuhuiiris" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hui Liu</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    

    







  





  

  

  

  
  

  

  

  

</body>
</html>
